<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Fri Dec 18 07:59:58 EST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AnnotationDrivenPackageStateSerializer (DCS Packaging Tools 1.0.2-SNAPSHOT API)</title>
<meta name="date" content="2015-12-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AnnotationDrivenPackageStateSerializer (DCS Packaging Tools 1.0.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AnnotationDrivenPackageStateSerializer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/dataconservancy/packaging/tool/impl/ArchiveStreamFactory.html" title="interface in org.dataconservancy.packaging.tool.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html" target="_top">Frames</a></li>
<li><a href="AnnotationDrivenPackageStateSerializer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dataconservancy.packaging.tool.impl</div>
<h2 title="Class AnnotationDrivenPackageStateSerializer" class="title">Class AnnotationDrivenPackageStateSerializer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.dataconservancy.packaging.tool.impl.AnnotationDrivenPackageStateSerializer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">AnnotationDrivenPackageStateSerializer</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></pre>
<div class="block">Responsible for (de)serializing <em>annotated</em> fields of <a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model"><code>PackageState</code></a>.  Callers may request that all
 annotated fields be serialized by calling <code>serialize(PackageState, OutputStream)</code>, or callers may specify a
 particular annotated field to be serialized by calling <code>serialize(PackageState, StreamId, OutputStream)</code>
 (i.e. by specifying the annotated field's stream identifier).
 <p>
 In order for fields of <code>PackageState</code> to be serialized, they must be annotated with
 <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/Serialize.html" title="annotation in org.dataconservancy.packaging.tool.model.ser"><code>Serialize</code></a>, and have a so-called "stream identifier" assigned.
 If a field has not been annotated, then it cannot be serialized by this implementation.  This implementation
 <em>does not serialize the entirety</em> of a <code>PackageState</code> instance; it will only serialize fields that are
 annotated.  Annotated fields must have standard JavaBean accessors and mutators (getXXX and setXXX methods).
 </p>
 <p>
 <strong>Examples</strong>
 </p>
 <p>
 Serializing package metadata to a file
 </p>
 <pre>
     // Assume the existence of a populated PackageState instance
     PackageState state = ...

     // Instantiate and configure the serializer, or have it dependency injected
     AnnotationDrivenPackageStateSerializer serializer = new AnnotationDrivenPackageStateSerializer();
     serializer.setArchive(false);  // we're just serializing a single stream,
                                    // so we don't need a zip archive

     File packageMd = new File("packageMetadata.out");
     serializer.serialize(state, StreamId.PACKAGE_METADATA, new FileOutputStream(packageMd));
 </pre>
 <p>
 Serializing package state before closing the Package Tool GUI
 </p>
 <pre>
     // Assume the existence of a populated PackageState instance
     PackageState state = ...

     // Instantiate and configure the serializer, or have it dependency injected
     AnnotationDrivenPackageStateSerializer serializer = new AnnotationDrivenPackageStateSerializer();
     serializer.setArchive(true);  // we're serializing all annotated fields,
                                   // so we'll put all the streams in a
                                   // zip archive

     File myPackage = new File("mypackage.zip");
     serializer.serialize(state, new FileOutputStream(packageMd));
 </pre>
 <p>
 <strong>Configuration</strong>
 </p>
 <p>
 This class has two main sets of configuration properties.  Those that pertain to creating archives, and
 (un)marshallers used for the fields on the <code>PackageState</code>.
 </p>
 <p>
 <strong>Archive-related configuration:</strong>
 </p>
 <dl>
 <dt>archive</dt>
 <dd>Flag used during serialization, controlling whether or not the output produces an archive (zip or tar).
 When this flag is false, other archive-related properties are not consulted.</dd>
 <dt>arxStreamFactory</dt>
 <dd>This is the abstraction used to create <code>ArchiveOutputStream</code> and <code>ArchiveEntry</code> objects</dd>
 <dt>failOnChecksumMismatch</dt>
 <dd>Flag used during deserialization, controlling whether or not an <a href="../../../../../org/dataconservancy/packaging/tool/impl/StreamChecksumMismatch.html" title="class in org.dataconservancy.packaging.tool.impl"><code>exception</code></a> is
 thrown when encountering an invalid checksum when reading streams from a package state</dd>
 </dl>
 <p>
 <strong>Marshalling-related configuration:</strong>
 </p>
 <dl>
 <dt>marshallerMap</dt>
 <dd>Maps the (un)marshallers to the streams that they (de)serialize.  Typically this will be
 dependency injected.  In order for this implementation to function properly, each <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser"><code>StreamId</code></a>
 should be represented in this <code>Map</code> with associated <a href="../../../../../org/dataconservancy/packaging/tool/ser/StreamMarshaller.html" title="class in org.dataconservancy.packaging.tool.ser"><code>StreamMarshaller</code></a>s</dd>
 </dl></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#AnnotationDrivenPackageStateSerializer--">AnnotationDrivenPackageStateSerializer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#deserialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.InputStream-">deserialize</a></span>(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Deserialize the stream or streams found in the input stream, and place the object form of each deserialized
 stream on the supplied state.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#deserialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.InputStream-">deserialize</a></span>(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
           <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>&nbsp;streamId,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Deserialize the specified stream from the input stream, and place the object form of the deserialized stream on
 the supplied state.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>,<a href="../../../../../org/dataconservancy/packaging/tool/ser/StreamMarshaller.html" title="class in org.dataconservancy.packaging.tool.ser">StreamMarshaller</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#getMarshallerMap--">getMarshallerMap</a></span>()</code>
<div class="block">A Map containing the Marshaller and Unmarshaller implementation for each field in PackageState that
 may be (de)serialized by this implementation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#isArchive--">isArchive</a></span>()</code>
<div class="block">Whether or not we are serializing streams into an archive (zip or tar)</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#isFailOnChecksumMismatch--">isFailOnChecksumMismatch</a></span>()</code>
<div class="block">A flag controlling if an exception will be thrown when a stream's actual checksum does not match its
 expected checksum.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#serialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.OutputStream-">serialize</a></span>(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</code>
<div class="block">Serialize objects in the state to the output stream.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#serialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.OutputStream-">serialize</a></span>(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
         <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>&nbsp;streamId,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</code>
<div class="block">Obtain the object specified by <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser"><code>StreamId</code></a> from the state and serialize it to the output stream.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#setArchive-boolean-">setArchive</a></span>(boolean&nbsp;archive)</code>
<div class="block">Whether or not we are serializing streams into an archive (zip or tar)</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#setFailOnChecksumMismatch-boolean-">setFailOnChecksumMismatch</a></span>(boolean&nbsp;failOnChecksumMismatch)</code>
<div class="block">A flag controlling if an exception will be thrown when a stream's actual checksum does not match its
 expected checksum.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#setMarshallerMap-java.util.Map-">setMarshallerMap</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>,<a href="../../../../../org/dataconservancy/packaging/tool/ser/StreamMarshaller.html" title="class in org.dataconservancy.packaging.tool.ser">StreamMarshaller</a>&gt;&nbsp;marshallerMap)</code>
<div class="block">A Map containing the Marshaller and Unmarshaller implementation for each field in PackageState that
 may be (de)serialized by this implementation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AnnotationDrivenPackageStateSerializer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AnnotationDrivenPackageStateSerializer</h4>
<pre>public&nbsp;AnnotationDrivenPackageStateSerializer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="deserialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deserialize</h4>
<pre>public&nbsp;void&nbsp;deserialize(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</pre>
<div class="block">Deserialize the stream or streams found in the input stream, and place the object form of each deserialized
 stream on the supplied state.
 <p>
 Behaves as
 </p>
 <pre>
 deserialize(state, null, in)
 </pre></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html#deserialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.InputStream-">deserialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the package state to be populated from the input stream, <code>in</code></dd>
<dd><code>in</code> - the input stream containing the streams to be deserialized onto <code>state</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - when there are errors accessing fields of the state using reflection</dd>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/impl/StreamChecksumMismatch.html" title="class in org.dataconservancy.packaging.tool.impl">StreamChecksumMismatch</a></code> - when <code>failOnChecksumMismatch</code> is <code>true</code> and a checksum mismatch is
                                encountered</dd>
</dl>
</li>
</ul>
<a name="serialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialize</h4>
<pre>public&nbsp;void&nbsp;serialize(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</pre>
<div class="block">Serialize objects in the state to the output stream.  Because the state normally contains multiple
 objects, multiple streams will be written to the output stream.  How this occurs is implementation dependant.
 <p>
 This will serialize all fields in the <a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model"><code>PackageState</code></a> annotated with <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/Serialize.html" title="annotation in org.dataconservancy.packaging.tool.model.ser"><code>Serialize</code></a> to the supplied
 <code>OutputStream</code>.  It is recommended that when calling this method, the caller also set the <a href="../../../../../org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html#setArchive-boolean-"><code>archive flag</code></a> to <code>true</code>.  Because <code>PackageState</code> contains multiple fields, and
 because each field is serialized as a distinct stream, this method will result in multiple streams being
 serialized to the same <code>OutputStream</code>.  If <code>archive</code> is <code>true</code>, each stream will have a
 checksum calculated and included in the output.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html#serialize-org.dataconservancy.packaging.tool.model.PackageState-java.io.OutputStream-">serialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the package state containing the annotated fields to be serialized</dd>
<dd><code>out</code> - the output stream to serialize to</dd>
</dl>
</li>
</ul>
<a name="serialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialize</h4>
<pre>public&nbsp;void&nbsp;serialize(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
                      <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>&nbsp;streamId,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</pre>
<div class="block">Obtain the object specified by <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser"><code>StreamId</code></a> from the state and serialize it to the output stream.  Because
 the state should only contain one object with the specified <code>StreamId</code>, a single stream will be written
 to the output stream.
 <p>
 This will serialize the specified field in the <a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model"><code>PackageState</code></a> annotated with <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/Serialize.html" title="annotation in org.dataconservancy.packaging.tool.model.ser"><code>Serialize</code></a> to the
 supplied <code>OutputStream</code>.  If <code>archive</code> is <code>true</code>, the stream will have a checksum calculated
 and included in the output.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html#serialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.OutputStream-">serialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the package state containing the stream identified by <code>streamId</code></dd>
<dd><code>streamId</code> - the stream within the package state to serialize</dd>
<dd><code>out</code> - the output stream to serialize to</dd>
</dl>
</li>
</ul>
<a name="deserialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deserialize</h4>
<pre>public&nbsp;void&nbsp;deserialize(<a href="../../../../../org/dataconservancy/packaging/tool/model/PackageState.html" title="class in org.dataconservancy.packaging.tool.model">PackageState</a>&nbsp;state,
                        <a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>&nbsp;streamId,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</pre>
<div class="block">Deserialize the specified stream from the input stream, and place the object form of the deserialized stream on
 the supplied state.
 <p>
 Deserializes the identified stream (<code>streamId</code>) from the supplied input stream into the package state.
 If <code>streamId</code> is <code>null</code>, then all streams found in the supplied input stream are deserialized to
 <code>state</code>.
 </p>
 <p>
 If the specified stream is not found, this method will do nothing.  If an unrecognized stream is encountered, it
 will be skipped.
 </p>
 <p>
 An unrecognized stream is a Zip entry with a name that is not present in the <code>StreamId enum</code>.  Unrecognized
 streams can be encountered when the supplied <code>streamId</code> is <code>null</code>.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html#deserialize-org.dataconservancy.packaging.tool.model.PackageState-org.dataconservancy.packaging.tool.model.ser.StreamId-java.io.InputStream-">deserialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dataconservancy/packaging/tool/ser/PackageStateSerializer.html" title="interface in org.dataconservancy.packaging.tool.ser">PackageStateSerializer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the package state to be populated</dd>
<dd><code>streamId</code> - the stream to be deserialized, may be <code>null</code> to specify all streams found in the supplied
                 input stream</dd>
<dd><code>in</code> - the input stream containing the identified <code>streamId</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - when there are errors accessing fields of the state using reflection</dd>
<dd><code><a href="../../../../../org/dataconservancy/packaging/tool/impl/StreamChecksumMismatch.html" title="class in org.dataconservancy.packaging.tool.impl">StreamChecksumMismatch</a></code> - when <code>failOnChecksumMismatch</code> is <code>true</code> and a checksum mismatch is
                                encountered</dd>
</dl>
</li>
</ul>
<a name="getMarshallerMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarshallerMap</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>,<a href="../../../../../org/dataconservancy/packaging/tool/ser/StreamMarshaller.html" title="class in org.dataconservancy.packaging.tool.ser">StreamMarshaller</a>&gt;&nbsp;getMarshallerMap()</pre>
<div class="block">A Map containing the Marshaller and Unmarshaller implementation for each field in PackageState that
 may be (de)serialized by this implementation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Map containing the Marshaller and Unmarshaller implementation</dd>
</dl>
</li>
</ul>
<a name="setMarshallerMap-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMarshallerMap</h4>
<pre>public&nbsp;void&nbsp;setMarshallerMap(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../org/dataconservancy/packaging/tool/model/ser/StreamId.html" title="enum in org.dataconservancy.packaging.tool.model.ser">StreamId</a>,<a href="../../../../../org/dataconservancy/packaging/tool/ser/StreamMarshaller.html" title="class in org.dataconservancy.packaging.tool.ser">StreamMarshaller</a>&gt;&nbsp;marshallerMap)</pre>
<div class="block">A Map containing the Marshaller and Unmarshaller implementation for each field in PackageState that
 may be (de)serialized by this implementation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>marshallerMap</code> - the marshaller map</dd>
</dl>
</li>
</ul>
<a name="isArchive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isArchive</h4>
<pre>public&nbsp;boolean&nbsp;isArchive()</pre>
<div class="block">Whether or not we are serializing streams into an archive (zip or tar)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a flag indicating whether or not we are producing an archive</dd>
</dl>
</li>
</ul>
<a name="setArchive-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArchive</h4>
<pre>public&nbsp;void&nbsp;setArchive(boolean&nbsp;archive)</pre>
<div class="block">Whether or not we are serializing streams into an archive (zip or tar)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>archive</code> - a flag indicating whether or not we are producing an archive</dd>
</dl>
</li>
</ul>
<a name="isFailOnChecksumMismatch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFailOnChecksumMismatch</h4>
<pre>public&nbsp;boolean&nbsp;isFailOnChecksumMismatch()</pre>
<div class="block">A flag controlling if an exception will be thrown when a stream's actual checksum does not match its
 expected checksum.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>when true, a <code>StreamChecksumMismatch</code> will be thrown when checksums do not match</dd>
</dl>
</li>
</ul>
<a name="setFailOnChecksumMismatch-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setFailOnChecksumMismatch</h4>
<pre>public&nbsp;void&nbsp;setFailOnChecksumMismatch(boolean&nbsp;failOnChecksumMismatch)</pre>
<div class="block">A flag controlling if an exception will be thrown when a stream's actual checksum does not match its
 expected checksum.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>failOnChecksumMismatch</code> - when true, a <code>StreamChecksumMismatch</code> will be thrown when checksums do not
                               match</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AnnotationDrivenPackageStateSerializer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/dataconservancy/packaging/tool/impl/ArchiveStreamFactory.html" title="interface in org.dataconservancy.packaging.tool.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/dataconservancy/packaging/tool/impl/AnnotationDrivenPackageStateSerializer.html" target="_top">Frames</a></li>
<li><a href="AnnotationDrivenPackageStateSerializer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2015 <a href="http://dataconservancy.org">Data Conservancy</a>. All rights reserved.</small></p>
</body>
</html>